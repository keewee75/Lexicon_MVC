@model PeopleViewModel

@{
	ViewData["Title"] = "Index";
}

<h1>People</h1>

<div class="container">
	<div class="row">

		<div class="col-sm-9">
			<!-- Add Person -->
			<form asp-controller="People" asp-action="AddPerson" method="post">
				<div class="form-group row">
					<label asp-for="cpvm.Name" class="col-sm-1 col-form-label">Name</label>
					<div class="col-sm-3">
						<input asp-for="cpvm.Name" type="text" class="form-control" placeholder="Type in name...">
						<span asp-validation-for="cpvm.Name"></span>
					</div>
				</div>

				<div class="form-group row">
					<label asp-for="cpvm.CityId" class="col-sm-1 col-form-label">City </label>
					<div class="col-sm-3">
						<select name="cityId" class="form-control" asp-items="ViewBag.CityNames">
							<option value="" selected disabled>Select City</option>
						</select>
						<span asp-validation-for="cpvm.CityId"></span>
					</div>
				</div>

				<div class="form-group row">
					<label asp-for="cpvm.PhoneNumber" class="col-sm-1 col-form-label"></label>
					<div class="col-sm-3">
						<input type="text" class="form-control" asp-for="cpvm.PhoneNumber" placeholder="Type in phone number...">
						<span asp-validation-for="cpvm.PhoneNumber"></span>
					</div>
				</div>
				<p></p>
				<div class="form-group row">
					<div class="col-sm-10">
						<button type="submit" class="btn btn-secondary btn-sm">Add Person</button>
					</div>
				</div>
			</form>
		</div>

		<div class="col-sm-3">
			<!-- Search/Filter Person -->
			<form asp-controller="People" asp-action="Search">
				<div class="input-group">

					<input type="text" name="searchString" class="form-control" placeholder="Search..." aria-label="search" aria-describedby="basic-addon1">

					<button asp-controller="People" asp-action="Search" class="btn btn-success btn-sm" type="submit">Filter</button>
				</div>
			</form>
		</div>

	</div>
</div>

<p></p>

<!-- List Person(s) -->
<table class=" table table-striped">

	<thead class="thd">
		<tr>
			<th>Id</th>
			<th>Name</th>
			<th>City</th>
			<th>Phone Number</th>
			<th>Edit / Delete</th>
		</tr>
	</thead>

	@foreach (var person in Model.People)
	{
		<!-- Partial View _Person -->
		<partial name="_Person" model="person" />
	}

</table>


<div>
	<span>@ViewBag.Message</span>
</div>
